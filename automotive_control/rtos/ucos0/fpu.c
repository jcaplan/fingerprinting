#include "includes.h"
#include <stdlib.h>
#include <stdio.h>
#include "critical.h"
double test_data[400] = {
		0.709266658575,
		-0.0100222940533,
		3202.78439206,
		-3789.2614657,
		0.664937745067,
		-0.88417231782,
		6723.16338942,
		-8717.8803591,
		0.954772040156,
		-0.602564239138,
		3733.59270624,
		-500.298126649,
		0.303051687252,
		-0.48161486203,
		3951.21858921,
		-9947.38425771,
		0.722577412165,
		-0.712348696025,
		4168.93790923,
		-5654.45738282,
		0.936603024862,
		-0.486132823536,
		7793.66298867,
		-8147.10015216,
		0.293102504766,
		-0.447551965303,
		8139.37500565,
		-4661.62016767,
		0.0678835025773,
		-0.903157643571,
		5937.22455301,
		-7902.8606614,
		0.359922615593,
		-0.426586211057,
		8548.61371092,
		-7640.35106986,
		0.212739235284,
		-0.0145164898437,
		5912.8786207,
		-5517.20940283,
		0.575232111414,
		-0.805656866755,
		5868.01330363,
		-6290.44117998,
		0.799676530512,
		-0.464328502028,
		6409.71204591,
		-1867.17762388,
		0.737314985799,
		-0.831518304944,
		8387.52893909,
		-3877.82289237,
		0.620575201487,
		-0.712392324996,
		671.511727446,
		-4729.08030253,
		0.414134933165,
		-0.32552202298,
		7192.25964672,
		-9746.56017325,
		0.391826954127,
		-0.214319939697,
		4452.33628212,
		-7481.00004539,
		0.871621135444,
		-0.389451482303,
		9777.97036535,
		-8790.21480153,
		0.119937616548,
		-0.187595540067,
		5493.11093324,
		-6855.15933225,
		0.330993023763,
		-0.10907689554,
		3232.90654783,
		-2103.78757964,
		0.730175709823,
		-0.559624605927,
		3339.48548233,
		-2518.88719822,
		0.297172743682,
		-0.70158702707,
		2404.64838001,
		-500.107113535,
		0.634934709994,
		-0.828291597551,
		8654.69632628,
		-5696.0495869,
		0.580366379602,
		-0.954737020089,
		1198.99618454,
		-5378.24192095,
		0.818327504184,
		-0.624817009218,
		9988.34546972,
		-8796.0829498,
		0.309996774546,
		-0.387849442531,
		1568.551629,
		-3216.59514696,
		0.0927931354191,
		-0.497938124465,
		3394.08387472,
		-1082.65736784,
		0.808602875562,
		-0.553462117446,
		7757.39587861,
		-8923.6717372,
		0.105129736463,
		-0.237851190102,
		8604.85912918,
		-4842.74861655,
		0.0219255975025,
		-0.782365083748,
		5519.1235657,
		-9982.60501752,
		0.574542097192,
		-0.510483988006,
		6746.3992134,
		-4140.61514605,
		0.413472318151,
		-0.627620601144,
		7377.12729685,
		-2064.52486737,
		0.803725049549,
		-0.56502194764,
		3764.15740515,
		-891.365007398,
		0.985877478579,
		-0.179389493575,
		1863.83866019,
		-5761.77192603,
		0.0196707618955,
		-0.191578729383,
		2925.40932649,
		-6899.15845969,
		0.43447692674,
		-0.660202907563,
		395.181838491,
		-1022.92103191,
		0.86073941647,
		-0.988133332661,
		8259.91920888,
		-6160.54240474,
		0.834153272223,
		-0.919461102767,
		3747.33498267,
		-3637.12283503,
		0.504443395988,
		-0.194573307401,
		102.220136814,
		-9037.65208174,
		0.639136147137,
		-0.71491080353,
		849.368942334,
		-2345.4518642,
		0.74427125218,
		-0.447484862851,
		9957.94540957,
		-7573.6440302,
		0.167171506485,
		-0.371198911909,
		2962.14064481,
		-8867.44663364,
		0.190260785328,
		-0.647220488771,
		9504.87748659,
		-3317.73883691,
		0.493215974175,
		-0.225508691326,
		5708.70267159,
		-3365.92296202,
		0.61146029892,
		-0.564073114469,
		3960.90885898,
		-2283.4697526,
		0.986102171092,
		-0.73137194435,
		6623.45759695,
		-9469.28799796,
		0.983518409493,
		-0.67481290288,
		7376.78205187,
		-5218.48297489,
		0.686514023421,
		-0.930388363299,
		7181.12858686,
		-1107.71417507,
		0.384797433414,
		-0.534013271802,
		4430.38845237,
		-1328.01349223,
		0.26922763859,
		-0.61811112288,
		2415.87644274,
		-563.398976952,
		0.0482634704421,
		-0.2552392074,
		2213.74021079,
		-2356.56429579,
		0.718512414556,
		-0.0757070164097,
		4878.01779626,
		-6689.42017905,
		0.891709662144,
		-0.335929138119,
		5828.94759645,
		-4231.15087558,
		0.234886960489,
		-0.0947180724148,
		7416.05760968,
		-1070.4299769,
		0.66591647506,
		-0.239456599052,
		8004.20181511,
		-3686.29551054,
		0.66686401223,
		-0.322142278171,
		5910.81659233,
		-1009.16230767,
		0.245109869492,
		-0.852987479476,
		7599.76910467,
		-4793.093879,
		0.880947483088,
		-0.557734173079,
		7771.78332168,
		-4127.93528642,
		0.709644433145,
		-0.0753291568827,
		7967.23994723,
		-3373.19335531,
		0.835742353991,
		-0.585322794254,
		8123.01057581,
		-5113.52486378,
		0.782546878579,
		-0.285647134816,
		1536.66565137,
		-1578.79331703,
		0.754816914739,
		-0.265999709284,
		6151.24682828,
		-9553.77446104,
		0.869619208081,
		-0.0710866869025,
		1274.60921321,
		-5722.63163605,
		0.864914996055,
		-0.184355774179,
		6562.64454951,
		-7268.6435223,
		0.787216435953,
		-0.0190847039893,
		869.822527765,
		-1335.40845336,
		0.404646611369,
		-0.520114982953,
		4389.23654039,
		-9545.61438709,
		0.655972137124,
		-0.482075961084,
		3588.56394552,
		-8609.24196287,
		0.774789467355,
		-0.444677073605,
		6579.95225961,
		-6281.35028682,
		0.571302377616,
		-0.762932595327,
		3389.46742321,
		-2188.87396441,
		0.993038940742,
		-0.828101509956,
		5145.20284418,
		-5059.36161704,
		0.240511839439,
		-0.844695321578,
		1065.28005982,
		-137.757567732,
		0.768763114965,
		-0.317352980087,
		4529.90955647,
		-6046.67509191,
		0.922318237471,
		-0.497881047482,
		248.918262609,
		-6738.54154935,
		0.394850394328,
		-0.785312672792,
		8270.35185255,
		-9431.45965965,
		0.366592933015,
		-0.0920428642935,
		2945.55155705,
		-4256.13530071,
		0.437664522382,
		-0.0769295651356,
		9993.61199464,
		-439.557840704,
		0.00719072998268,
		-0.959660730327,
		2027.82624977,
		-7526.03139622,
		0.274651959521,
		-0.484393194941,
		6043.55129535,
		-6099.61854446,
		0.987321744189,
		-0.975623003417,
		1744.7971837,
		-7433.60261318,
		0.601161591594,
		-0.836507642541,
		6906.09013707,
		-8622.4586815,
		0.486065103317,
		-0.507189899391,
		1305.20691773,
		-480.218539693,
		0.850133934296,
		-0.50064576549,
		9324.13303274,
		-9965.44467841,
		0.526297677413,
		-0.87569609173,
		1170.381259,
		-4570.33461307,
		0.258964722655,
		-0.335995955929,
		4110.42156297,
		-2439.22957135,
		0.417338494645,
		-0.0884621927631,
		2074.32956748,
		-2346.60884886,
		0.204464072226,
		-0.828834940206,
		8527.05725323,
		-5608.97411907,
		0.0854761292867,
		-0.236763597743,
		5416.23481043,
		-6640.26955604,
		0.953487459443,
		-0.463973961604,
		590.828455198,
		-4649.74591761,
		0.577217880712,
		-0.18415970593,
		9097.53894597,
		-4352.51139868,
		0.602614573413,
		-0.619897104053,
		1850.01491049,
		-984.157199923,
		0.782004331606,
		-0.0252096306909,
		3166.49005575,
		-3997.17607086,
		0.38645270011,
		-0.985533923129,
		9368.52321038,
		-7896.09508191,
		0.143497894472,
		-0.83037138475,
		2554.78589318,
		-9138.2062887,
		0.410540550626,
		-0.944181983643,
		565.621084255,
		-3853.93232531,
		0.328498482931,
		-0.137644698386,
		2005.727749,
		-548.57725301,
		0.712316608215,
		-0.62676568648,
		8508.0239248,
		-9923.10449222,
		0.846038103508,
		-0.425569930507,
		880.862496374,
		-2176.19213636,
		0.98152614048,
		-0.327606935126,
		8698.13016381,
		-706.702790378,
		0.970726590452,
		-0.707665749125,
		9079.53387821,
		-2400.73447666,
		0.889275624466,
		-0.342161389923,
		247.924164736,
		-2113.14401739,
		0.558006215124,
		-0.15604881865,
		9970.3562808,
		-9447.35372408
};

int main(){
	printf("hihi!");
	OSTimeDlyHMSM(0,0,4,0);
	int i;
	OS_CPU_SR  cpu_sr = 0;
	OS_ENTER_CRITICAL();
	for(i = 0; i < 10000; i++){
		double x = test_data[rand()%400];
		double y = test_data[rand()%400];

		double z = x * y;
	}
	OS_EXIT_CRITICAL();

	AirbagModelStruct airbagModelStruct_0;

	AirbagModel_initialize(&airbagModelStruct_0.AirbagModel_M,
			&airbagModelStruct_0.AirbagModel_U,
			&airbagModelStruct_0.AirbagModel_Y);

	AirbagModel_step(&airbagModelStruct_0.AirbagModel_M,
			&airbagModelStruct_0.AirbagModel_U,
			&airbagModelStruct_0.AirbagModel_Y);

	return 0;
}
