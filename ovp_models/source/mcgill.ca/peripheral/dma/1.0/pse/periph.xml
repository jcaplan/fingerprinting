<?xml version="1.0" encoding="UTF-8"?>

 <peripheral constructor="constructor"
    destructor="destructor"
    imagefile="pse.pse"
    library="peripheral"
    name="dma"
    vendor="mcgill.ca"
    version="1.0">
    <documentation name="Description">DMA peripheral model</documentation>
    <busmasterport addresswidth="32"
        name="MREAD">
        <documentation name="Description">DMA Registers Master Port - Read</documentation>
    </busmasterport>
    <busmasterport addresswidth="32"
        name="MWRITE">
        <documentation name="Description">DMA Registers Master Port - Write</documentation>
    </busmasterport>
    <busslaveport addresswidth="32"
        mustbeconnected="T"
        name="DMACSP"
        size="0x20">
        <documentation name="Description">DMA Registers Slave Port</documentation>
        <addressblock name="ab8"
            size="0x20"
            width="32">
            <memorymappedregister access="rw"
                isvolatile="T"
                name="status"
                readfunction="regRd"
                width="32"
                writefunction="statusWr">
                <field name="DONE"
                    width="1"/>
                <field bitoffset="1"
                    name="BUSY"
                    width="1"/>
                <field bitoffset="2"
                    name="REOP"
                    width="1"/>
                <field bitoffset="3"
                    name="WEOP"
                    width="1"/>
                <field bitoffset="4"
                    name="LEN"
                    width="1"/>
            </memorymappedregister>
            <memorymappedregister access="rw"
                isvolatile="T"
                name="readaddress"
                offset="0x4"
                readfunction="regRd"
                width="32"
                writefunction="regWr"/>
            <memorymappedregister access="rw"
                isvolatile="T"
                name="writeaddress"
                offset="0x8"
                readfunction="regRd"
                width="32"
                writefunction="regWr"/>
            <memorymappedregister access="rw"
                isvolatile="T"
                name="length"
                offset="0xc"
                readfunction="regRd"
                width="32"
                writefunction="regWr"/>
            <memorymappedregister access="rw"
                isvolatile="T"
                name="control"
                offset="0x18"
                readfunction="regRd"
                width="32"
                writefunction="controlWr">
                <field name="BYTE"
                    width="1"/>
                <field bitoffset="1"
                    name="HW"
                    width="1"/>
                <field bitoffset="2"
                    name="WORD"
                    width="1"/>
                <field bitoffset="3"
                    name="GO"
                    width="1"/>
                <field bitoffset="4"
                    name="I_EN"
                    width="1"/>
                <field bitoffset="5"
                    name="REEN"
                    width="1"/>
                <field bitoffset="6"
                    name="WEEN"
                    width="1"/>
                <field bitoffset="7"
                    name="LEEN"
                    width="1"/>
                <field bitoffset="8"
                    name="RCON"
                    width="1"/>
                <field bitoffset="9"
                    name="WCON"
                    width="1"/>
                <field bitoffset="10"
                    name="DOUBLEWORD"
                    width="1"/>
                <field bitoffset="11"
                    name="QUADWORD"
                    width="1"/>
                <field bitoffset="12"
                    name="SOFTWARERESET"
                    width="1"/>
            </memorymappedregister>
        </addressblock>
    </busslaveport>
    <netport name="DMA_IRQ"
        type="output"
        updatefunctionargument="0"/>
    <fileversion major="1"
        minor="0"
        name="_version_0"/>
 </peripheral>
